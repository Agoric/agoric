<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="746px" preserveAspectRatio="none" style="width:1851px;height:746px;background:#FFFFFF;" version="1.1" viewBox="0 0 1851 746" width="1851px" zoomAndPan="magnify"><defs/><g><rect height="11.7773" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="176" x="1661.5" y="0"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="176" x="1661.5" y="9.668">Agoric Systems Operating Company.</text><rect height="26.4883" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="100" x="868.75" y="17.7773"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="90" x="873.75" y="36.3125">VaultFactory</text><!--MD5=[8a2eb637b9b19418d84b8f66e74da74e]
cluster Vat--><g id="cluster_Vat"><polygon points="944.5,204.7656,954.5,194.7656,1834.5,194.7656,1834.5,700.7656,1824.5,710.7656,944.5,710.7656,944.5,204.7656" style="stroke:#181818;stroke-width:1.0;fill:none;"/><line style="stroke:#181818;stroke-width:1.0;fill:none;" x1="1824.5" x2="1834.5" y1="204.7656" y2="194.7656"/><line style="stroke:#181818;stroke-width:1.0;fill:none;" x1="944.5" x2="1824.5" y1="204.7656" y2="204.7656"/><line style="stroke:#181818;stroke-width:1.0;fill:none;" x1="1824.5" x2="1824.5" y1="204.7656" y2="710.7656"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="24" x="1373.5" y="221.3008">Vat</text></g><!--MD5=[f8bdb8f2d8c9b7e2f062dc65a90a6e92]
cluster VaultFactory--><g id="cluster_VaultFactory"><polygon points="968.5,252.7656,978.5,242.7656,1671.5,242.7656,1671.5,442.7656,1661.5,452.7656,968.5,452.7656,968.5,252.7656" style="stroke:#181818;stroke-width:1.0;fill:none;"/><line style="stroke:#181818;stroke-width:1.0;fill:none;" x1="1661.5" x2="1671.5" y1="252.7656" y2="242.7656"/><line style="stroke:#181818;stroke-width:1.0;fill:none;" x1="968.5" x2="1661.5" y1="252.7656" y2="252.7656"/><line style="stroke:#181818;stroke-width:1.0;fill:none;" x1="1661.5" x2="1661.5" y1="252.7656" y2="452.7656"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="90" x="1271" y="269.3008">VaultFactory</text></g><!--MD5=[99c8f1fa4cdca03c066c3375012f7136]
cluster publicAPI--><g id="cluster_publicAPI"><polygon points="1311.5,300.7656,1321.5,290.7656,1647.5,290.7656,1647.5,418.7656,1637.5,428.7656,1311.5,428.7656,1311.5,300.7656" style="stroke:#181818;stroke-width:1.0;fill:none;"/><line style="stroke:#181818;stroke-width:1.0;fill:none;" x1="1637.5" x2="1647.5" y1="300.7656" y2="290.7656"/><line style="stroke:#181818;stroke-width:1.0;fill:none;" x1="1311.5" x2="1637.5" y1="300.7656" y2="300.7656"/><line style="stroke:#181818;stroke-width:1.0;fill:none;" x1="1637.5" x2="1637.5" y1="300.7656" y2="428.7656"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="68" x="1441.5" y="317.3008">publicAPI</text></g><!--MD5=[232cf8ad5512aba8c39088a343f64591]
cluster creatorFacet--><g id="cluster_creatorFacet"><polygon points="1077.5,300.7656,1087.5,290.7656,1287.5,290.7656,1287.5,418.7656,1277.5,428.7656,1077.5,428.7656,1077.5,300.7656" style="stroke:#181818;stroke-width:1.0;fill:none;"/><line style="stroke:#181818;stroke-width:1.0;fill:none;" x1="1277.5" x2="1287.5" y1="300.7656" y2="290.7656"/><line style="stroke:#181818;stroke-width:1.0;fill:none;" x1="1077.5" x2="1277.5" y1="300.7656" y2="300.7656"/><line style="stroke:#181818;stroke-width:1.0;fill:none;" x1="1277.5" x2="1277.5" y1="300.7656" y2="428.7656"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="87" x="1135" y="317.3008">creatorFacet</text></g><!--MD5=[417cef51afa734c49601c72371d80e99]
cluster Vault--><g id="cluster_Vault"><polygon points="976.5,534.7656,986.5,524.7656,1802.5,524.7656,1802.5,668.7656,1792.5,678.7656,976.5,678.7656,976.5,534.7656" style="stroke:#181818;stroke-width:1.0;fill:none;"/><line style="stroke:#181818;stroke-width:1.0;fill:none;" x1="1792.5" x2="1802.5" y1="534.7656" y2="524.7656"/><line style="stroke:#181818;stroke-width:1.0;fill:none;" x1="976.5" x2="1792.5" y1="534.7656" y2="534.7656"/><line style="stroke:#181818;stroke-width:1.0;fill:none;" x1="1792.5" x2="1792.5" y1="534.7656" y2="678.7656"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="38" x="1366.5" y="551.3008">Vault</text></g><!--MD5=[d26da07a3bd7c17143f45609ee6234d1]
entity AMM--><g id="elem_AMM"><polygon fill="#F1F1F1" points="984.5,370.7656,994.5,360.7656,1058.5,360.7656,1058.5,397.2539,1048.5,407.2539,984.5,407.2539,984.5,370.7656" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="1048.5" x2="1058.5" y1="370.7656" y2="360.7656"/><line style="stroke:#181818;stroke-width:0.5;" x1="984.5" x2="1048.5" y1="370.7656" y2="370.7656"/><line style="stroke:#181818;stroke-width:0.5;" x1="1048.5" x2="1048.5" y1="370.7656" y2="407.2539"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="999.5" y="394.3008">AMM</text></g><!--MD5=[66ceb15796fb2bf373585fde39c5b4b3]
entity getCollaterals--><g id="elem_getCollaterals"><ellipse cx="1523.5" cy="383.7656" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1476" y="414.3008">getCollaterals</text></g><!--MD5=[64e5de53d0c9ddfcd2eb1d28e3b35bc4]
entity makeVaultInvitation--><g id="elem_makeVaultInvitation"><ellipse cx="1622.5" cy="383.7656" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="1554.5" y="414.3008">makeVaultInvitation</text></g><!--MD5=[1fb612ddb12759a773b01c69ccf6be01]
entity getRunIssuer--><g id="elem_getRunIssuer"><ellipse cx="1380.5" cy="383.7656" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="1335.5" y="414.3008">getRunIssuer</text></g><!--MD5=[4d0b1c11acb7b86ed7d724b6216c6d31]
entity makeAddTypeInvitation--><g id="elem_makeAddTypeInvitation"><ellipse cx="1182.5" cy="383.7656" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="1101.5" y="414.3008">makeAddTypeInvitation</text></g><!--MD5=[06c0c19eef2d500ef65e114e6cfb9915]
entity makeCloseInvitation--><g id="elem_makeCloseInvitation"><ellipse cx="1077.5" cy="625.7656" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="1008" y="656.3008">makeCloseInvitation</text></g><!--MD5=[c0fbfa0b94e356be92dac6d7ef4e2fb7]
entity makeAdjustBalancesInvitation--><g id="elem_makeAdjustBalancesInvitation"><ellipse cx="1649.5" cy="625.7656" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="1547.5" y="656.3008">makeAdjustBalancesInvitation</text></g><!--MD5=[696aa05efa7cd6a86e7ac2f866034347]
entity getCollateralAmount--><g id="elem_getCollateralAmount"><ellipse cx="1425.5" cy="625.7656" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="1354" y="656.3008">getCollateralAmount</text></g><!--MD5=[ff92a3d63f46ed95f314d84227ca4160]
entity getCurrentDebt--><g id="elem_getCurrentDebt"><ellipse cx="1250.5" cy="625.7656" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="1197" y="656.3008">getCurrentDebt</text></g><!--MD5=[acae44d39ee77ba2e78b684f68d8ffa5]
entity vfc--><g id="elem_vfc"><ellipse cx="1182.5" cy="64.2656" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M1182.5,72.2656 L1182.5,99.2656 M1169.5,80.2656 L1195.5,80.2656 M1182.5,99.2656 L1169.5,114.2656 M1182.5,99.2656 L1195.5,114.2656 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="250" x="1057.5" y="129.3008">VaultFactoryCreator aka Governance</text></g><!--MD5=[4a215cce9e0f6d625b32e900af2559df]
entity Borrower--><g id="elem_Borrower"><ellipse cx="417.5" cy="354.2656" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M417.5,362.2656 L417.5,389.2656 M404.5,370.2656 L430.5,370.2656 M417.5,389.2656 L404.5,404.2656 M417.5,389.2656 L430.5,404.2656 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="386" y="419.3008">Borrower</text></g><!--MD5=[9a500c87b274ebb92425a1f4d4eb730a]
entity AdjustBalancesInvitation--><g id="elem_AdjustBalancesInvitation"><polygon fill="#F1F1F1" points="721,370.7656,731,360.7656,928,360.7656,928,397.2539,918,407.2539,721,407.2539,721,370.7656" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="918" x2="928" y1="370.7656" y2="360.7656"/><line style="stroke:#181818;stroke-width:0.5;" x1="721" x2="918" y1="370.7656" y2="370.7656"/><line style="stroke:#181818;stroke-width:0.5;" x1="918" x2="918" y1="370.7656" y2="407.2539"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="736" y="394.3008">AdjustBalancesInvitation</text></g><!--MD5=[01ad0ee252b2307e7dd894e3b8dd3365]
entity CloseVaultInvitation--><g id="elem_CloseVaultInvitation"><polygon fill="#F1F1F1" points="16,370.7656,26,360.7656,193,360.7656,193,397.2539,183,407.2539,16,407.2539,16,370.7656" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="183" x2="193" y1="370.7656" y2="360.7656"/><line style="stroke:#181818;stroke-width:0.5;" x1="16" x2="183" y1="370.7656" y2="370.7656"/><line style="stroke:#181818;stroke-width:0.5;" x1="183" x2="183" y1="370.7656" y2="407.2539"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="31" y="394.3008">CloseVaultInvitation</text></g><!--MD5=[1baf3b7099ab4ff20c5603dcac8b5085]
entity getPayout--><g id="elem_getPayout"><ellipse cx="505.5" cy="64.2656" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M505.5,72.2656 L505.5,99.2656 M492.5,80.2656 L518.5,80.2656 M505.5,99.2656 L492.5,114.2656 M505.5,99.2656 L518.5,114.2656 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="471.5" y="129.3008">getPayout</text></g><!--MD5=[ee0ce818ad4ee855520210f05cc8901d]
entity getPayouts--><g id="elem_getPayouts"><ellipse cx="329.5" cy="64.2656" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M329.5,72.2656 L329.5,99.2656 M316.5,80.2656 L342.5,80.2656 M329.5,99.2656 L316.5,114.2656 M329.5,99.2656 L342.5,114.2656 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="292" y="129.3008">getPayouts</text></g><!--MD5=[a74b86729a2d12db274258c4e28f5cbd]
reverse link CloseVaultInvitation to makeCloseInvitation--><g id="link_CloseVaultInvitation_makeCloseInvitation"><path d="M182.07,408.2656 C234.51,423.8656 305.44,444.4056 368.5,460.7656 C653.44,534.6756 1007.03,609.9056 1068.26,622.8256 " fill="none" id="CloseVaultInvitation-backto-makeCloseInvitation" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="177.05,406.7756,184.5298,413.1828,181.8411,408.2058,186.8181,405.5171,177.05,406.7756" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[abe2648156f00449a4cfd1b4499882f1]
reverse link AdjustBalancesInvitation to makeAdjustBalancesInvitation--><g id="link_AdjustBalancesInvitation_makeAdjustBalancesInvitation"><path d="M860.61,409.6656 C888.66,427.5056 929.25,450.1856 968.5,460.7656 C1010.37,472.0556 1120.26,465.4756 1163.5,468.7656 C1323.58,480.9556 1376.28,442.4856 1522.5,508.7656 C1579.07,534.4056 1627.55,594.9556 1643.75,616.7656 " fill="none" id="AdjustBalancesInvitation-backto-makeAdjustBalancesInvitation" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="856.22,406.8456,861.6276,415.0772,860.4259,409.5494,865.9536,408.3477,856.22,406.8456" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[bb5e5679383b1b4db80082f55613ba42]
link Borrower to makeVaultInvitation--><g id="link_Borrower_makeVaultInvitation"><path d="M449.23,357.4756 C499.43,317.7756 601.93,244.2456 703.5,216.7656 C799.28,190.8456 1521.14,152.2256 1596.5,216.7656 C1641.38,255.1956 1631.74,336.4856 1625.59,369.4356 " fill="none" id="Borrower-to-makeVaultInvitation" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1624.56,374.6556,1630.2112,366.5894,1625.5186,369.7484,1622.3596,365.0557,1624.56,374.6556" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="1305.5" y="175.334">open vault and transfer collateral</text></g><!--MD5=[13500cc5d99bd98bf3c905d51025dfa6]
link makeVaultInvitation to Vault--><g id="link_makeVaultInvitation_Vault"><path d="M1631.66,389.1256 C1658.83,402.5956 1739.28,446.3756 1775.5,508.7656 C1777.1138,511.545 1778.6009,514.4214 1779.9708,517.3725 C1780.6558,518.848 1781.3115,520.3422 1781.939,521.8522 C1782.2528,522.6072 1782.5596,523.3662 1782.8595,524.1288 C1782.9344,524.3194 1783.009,524.5103 1783.0831,524.7014 " fill="none" id="makeVaultInvitation-to-Vault" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1783.0831,524.7014,1783.558,514.864,1781.2751,520.0397,1776.0994,517.7568,1783.0831,524.7014" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[7ed7662d69d0e45c8b741b9b5141e975]
reverse link getPayout to Borrower--><g id="link_getPayout_Borrower"><path d="M492.66,136.7956 C475.49,192.9756 445.33,291.6856 428.92,345.3856 " fill="none" id="getPayout-backto-Borrower" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="494.18,131.8256,487.732,139.2703,492.7236,136.6088,495.3851,141.6005,494.18,131.8256" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="485.5" y="175.334">retrieve any proceeds</text></g><!--MD5=[a78d5901bb7019ca7ace937c060c027f]
reverse link getPayouts to Borrower--><g id="link_getPayouts_Borrower"><path d="M331.86,137.1956 C333.19,150.6156 335.26,165.4256 338.5,178.7656 C353.15,239.1056 381.31,305.5856 399.75,345.7456 " fill="none" id="getPayouts-backto-Borrower" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="331.37,131.9256,328.2085,141.2533,331.8265,136.9047,336.1751,140.5228,331.37,131.9256" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="339.5" y="175.334">retrieve any proceeds</text></g><!--MD5=[25ffaa321309c54f77c9d82ca0136377]
link Borrower to AdjustBalancesInvitation--><g id="link_Borrower_AdjustBalancesInvitation"><path d="M449.1,383.7656 C505.56,383.7656 626.2,383.7656 715.57,383.7656 " fill="none" id="Borrower-to-AdjustBalancesInvitation" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="720.6,383.7656,711.6,379.7656,715.6,383.7656,711.6,387.7656,720.6,383.7656" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="498.5" y="362.334">add or remove collateral or</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="467.5" y="377.6445">increase or decrease the loan balance</text></g><!--MD5=[cd4ceaf28dfdd4d91383784ae4abdda2]
reverse link CloseVaultInvitation to Borrower--><g id="link_CloseVaultInvitation_Borrower"><path d="M198.68,383.7656 C262.22,383.7656 342.15,383.7656 385.67,383.7656 " fill="none" id="CloseVaultInvitation-backto-Borrower" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="193.36,383.7656,202.36,387.7656,198.36,383.7656,202.36,379.7656,193.36,383.7656" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="211.5" y="362.334">close loan and withdraw</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="214" y="377.6445">any remaining collateral</text></g><!--MD5=[7ac2801eae909040beeabee850d3aa8f]
link vfc to makeAddTypeInvitation--><g id="link_vfc_makeAddTypeInvitation"><path d="M1182.5,131.8256 C1182.5,196.6756 1182.5,327.8056 1182.5,369.6256 " fill="none" id="vfc-to-makeAddTypeInvitation" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1182.5,374.7056,1186.5,365.7056,1182.5,369.7056,1178.5,365.7056,1182.5,374.7056" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[08b8be7f2e6deffb9fee636527697e67]
link Borrower to getCurrentDebt--><g id="link_Borrower_getCurrentDebt"><path d="M449.22,393.2956 C501.96,407.4456 611.04,436.6256 703.5,460.7656 C772.76,478.8456 788.61,490.8956 859.5,500.7656 C876.73,503.1656 1157.25,500.3956 1172.5,508.7656 C1213.81,531.4456 1237.33,586.4656 1246.28,611.7056 " fill="none" id="Borrower-to-getCurrentDebt" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1247.97,616.6256,1248.8212,606.8136,1246.3418,611.8982,1241.2573,609.4187,1247.97,616.6256" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="860.5" y="489.834">how much do I owe</text></g><!--MD5=[3c9fc9bb2ce9f84cc612266d1cd17400]
link Borrower to getCollateralAmount--><g id="link_Borrower_getCollateralAmount"><path d="M449.17,395.7756 C501.39,413.3356 609.18,447.0956 703.5,460.7656 C734.74,465.2956 957.93,457.7156 987.5,468.7656 C1008.5,476.6156 1005.49,492.9356 1026.5,500.7656 C1058.06,512.5256 1299.22,494.0256 1329.5,508.7656 C1375.34,531.0756 1407.04,586.7056 1419.55,611.9456 " fill="none" id="Borrower-to-getCollateralAmount" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1421.8,616.5656,1421.4659,606.7224,1419.6155,612.0681,1414.2698,610.2177,1421.8,616.5656" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="1040.5" y="482.334">how much did I</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="1027.5" y="497.6445">deposit as collateral</text></g><rect height="11.7773" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="29" x="904.25" y="726.7656"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="29" x="904.25" y="736.4336">v0.0.1</text><!--MD5=[fa001369ab75de638fa1be4870779548]
@startuml VaultFactory
header Agoric Systems Operating Company.
footer v0.0.1
title VaultFactory

skinparam componentStyle rectangle
skinparam defaultTextAlignment center


actor "VaultFactoryCreator aka Governance" as vfc

actor Borrower

node AdjustBalancesInvitation
node "CloseVaultInvitation"

node "Vat" {
    node VaultFactory {
        node AMM
        node "publicAPI" {
            circle getCollaterals
            circle makeVaultInvitation
            circle getRunIssuer
        }
        node "creatorFacet" {
            circle makeAddTypeInvitation
        }
    }
    node "Vault" {
        circle makeCloseInvitation
        makeCloseInvitation -u-> CloseVaultInvitation
        circle makeAdjustBalancesInvitation
        makeAdjustBalancesInvitation -u-> AdjustBalancesInvitation
        circle getCollateralAmount
        circle getCurrentDebt
    }
}
Borrower -> makeVaultInvitation: open vault and transfer collateral
makeVaultInvitation -d-> Vault
Borrower -u-> getPayout: retrieve any proceeds
Borrower -u-> getPayouts: retrieve any proceeds
Borrower -> AdjustBalancesInvitation: add or remove collateral or \nincrease or decrease the loan balance
Borrower -l-> CloseVaultInvitation: close loan and withdraw \nany remaining collateral
vfc -d-> makeAddTypeInvitation
Borrower -d-> getCurrentDebt: how much do I owe
Borrower -d-> getCollateralAmount: how much did I \ndeposit as collateral

@enduml

PlantUML version 1.2022.2(Sat Mar 05 08:30:19 PST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>